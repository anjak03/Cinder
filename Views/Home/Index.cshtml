@using Microsoft.AspNetCore.Identity
@using Cinder.Models

@inject SignInManager<User> SignInManager
@inject UserManager<User> UserManager

<div id="cndr-home-page-introduction">
    <h1>Log in, match, move in.</h1>
    <h2>Find your roommate today!</h2>
</div>
@if (!SignInManager.IsSignedIn(User))
{
    <div id="register-now-home-page-container">
        <a class="cndr-tertiary-button" asp-area="Identity" asp-page="/Account/Register">
            Register Now!
        </a>
    </div>
}
<div class="cndr-home-page-container left-aligned">
    <img id="home-page-img-1" src="~/Assets/Home Page Illustration 1.png" alt="Home Page Illustration" width="250"
        height="250">
    <div class="text-container">
        <h4>At Cinder,</h4>
        <p>we believe that finding a roommate should be as simple and stress-free as settling into your cozy
            living room couch. Just like the perfect living space, the right roommate can make all the difference
            between a
            house and a home. That's where we step in!</p>
    </div>
</div>
<div class="cndr-home-page-container right-aligned">
    <div class="text-container">
        <h4>Gone are the days</h4>
        <p>of endless scrolling through listings and worrying about compatibility. Cinder brings a
            refreshing approach to roommate discovery, blending intuitive design with a user-friendly interface that
            feels
            familiar yet innovative. It’s not just about sharing your space; it’s about creating new stories,
            adventures,
            and memories.</p>
    </div>
    <img id="home-page-img-2" src="~/Assets/Home Page Illustration 2.png" alt="Home Page Illustration" width="250"
        height="250">
</div>
<div class="cndr-home-page-container left-aligned">
    <img id="home-page-img-3" src="~/Assets/Home Page Illustration 3.png" alt="Home Page Illustration" width="250"
        height="250">
    <div class="text-container">
        <h4>Swipe right</h4>
        <p>on new beginnings and left on incompatibility. Get ready to light the spark that turns your new
            apartment into a warm, inviting home. Let’s make your roommate search a journey of connection and discovery.
        </p>
    </div>
</div>
@if (!SignInManager.IsSignedIn(User))
{
    <div class="cndr-home-page-container right-aligned">
        <div class="text-container">
            <h4>Not a member already?</h4>
            <p>Like what you see?
                Whether you're looking for someone to share a laugh with over morning coffee or a fellow movie enthusiast to
                binge-watch your favorite series, Cinder is here to help you find that ideal match.</p>
            <div id="register-now-container">
                <a class="cndr-tertiary-button" asp-area="Identity" asp-page="/Account/Register">
                    Register Now!
                </a>
            </div>

        </div>
        <img id="home-page-img-4" src="~/Assets/Home Page Illustration 4.png" alt="Home Page Illustration" width="250"
            height="250">
    </div>
}

<script>
    document.addEventListener("DOMContentLoaded", () => {
        const elements = document.querySelectorAll('.cndr-home-page-container');

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = 1; // Make the element fully opaque
                    entry.target.classList.add(entry.target.classList.contains('left-aligned') ? 'left-aligned' : 'right-aligned');
                    observer.unobserve(entry.target); // Stop observing the element after animation
                }
            });
        }, {
            threshold: 0.1 // Trigger when 10% of the element is visible
        });

        elements.forEach(element => observer.observe(element));
    });
</script>
